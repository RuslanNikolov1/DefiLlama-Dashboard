import{g as u,a as p,j as t}from"./vendor-tTdIX1Fz.js";import{r as o,b as x,A as h,X as m,Y as y,C as j,T as k,d as C}from"./recharts-DJE03qUk.js";import{a as v,C as D}from"./index-of9PqBSW.js";import"./react-Dazix4UH.js";const g=()=>u({queryKey:["tvlData"],queryFn:async()=>(await p.get("https://api.llama.fi/charts")).data}),T="_chartContainer_1k7uw_1",L="_filterInput_1k7uw_23",i={chartContainer:T,filterInput:L},b=()=>{const{data:a,isLoading:n,error:l}=g(),[s,c]=o.useState(30),{theme:r}=v(),f=o.useMemo(()=>{if(!a)return[];const e=Date.now()-s*24*60*60*1e3;return a.filter(d=>d.date*1e3>=e)},[a,s]);return n?t.jsx(D,{}):l?t.jsx("div",{children:"Error loading TVL data"}):t.jsxs("div",{className:i.chartContainer,children:[t.jsx("h3",{children:"Total Value Locked (TVL)"}),t.jsx("select",{value:s,onChange:e=>c(Number(e.target.value)),className:i.filterInput,"data-testid":"filter-select",children:[7,30,90,180,365].map(e=>t.jsxs("option",{value:e,children:[e," days"]},e))}),t.jsx(x,{width:"100%",height:300,children:t.jsxs(h,{data:f,children:[t.jsx("defs",{children:t.jsxs("linearGradient",{id:"colorTvl",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"5%",stopColor:"var(--primary-color)",stopOpacity:.8}),t.jsx("stop",{offset:"95%",stopColor:"var(--primary-color)",stopOpacity:0})]})}),t.jsx(m,{dataKey:"date",tickFormatter:e=>new Date(e*1e3).toLocaleDateString(),stroke:r==="dark"?"#fff":"#334155"}),t.jsx(y,{stroke:r==="dark"?"#fff":"#334155"}),t.jsx(j,{strokeDasharray:"3 3",stroke:r==="dark"?"#444":"#e2e8f0"}),t.jsx(k,{labelFormatter:e=>new Date(e*1e3).toLocaleDateString(),contentStyle:{backgroundColor:r==="dark"?"#1e1e2f":"#ffffff",border:`1px solid ${r==="dark"?"#444":"#e2e8f0"}`,color:r==="dark"?"#fff":"#334155"}}),t.jsx(C,{type:"monotone",dataKey:"totalLiquidityUSD",stroke:"var(--primary-color)",fillOpacity:1,fill:"url(#colorTvl)",isAnimationActive:!0})]})})]})};export{b as default};
