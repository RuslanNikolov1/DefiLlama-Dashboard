import{g as j,a as C,h as _,j as e,i as c,k as P,l as y,n as S}from"./vendor-tTdIX1Fz.js";import{r as s}from"./recharts-DJE03qUk.js";import{T as v}from"./index-of9PqBSW.js";import"./react-Dazix4UH.js";const w=()=>j({queryKey:["protocols"],queryFn:async()=>(await C.get("https://api.llama.fi/protocols")).data}),I="_container_naf2c_1",N="_filterInput_naf2c_10",R="_table_naf2c_25",M="_pagination_naf2c_49",k="_paginationButton_naf2c_59",L="_pageInfo_naf2c_81",o={container:I,filterInput:N,table:R,pagination:M,paginationButton:k,pageInfo:L},D=()=>{const{data:r,isLoading:g,error:d}=w(),[i,u]=s.useState(""),[p,m]=s.useState([]),[x,b]=s.useState({pageIndex:0,pageSize:15}),f=s.useMemo(()=>[{accessorKey:"name",header:"Name"},{accessorKey:"tvl",header:"TVL",cell:a=>`$${(a.getValue()||0).toLocaleString()}`},{accessorKey:"chain",header:"Chain"}],[]),h=s.useMemo(()=>r?r.filter(a=>a.name.toLowerCase().includes(i.toLowerCase())||(a.chain||"").toLowerCase().includes(i.toLowerCase())):[],[r,i]),n=_({data:h,columns:f,state:{sorting:p,pagination:x},onSortingChange:m,onPaginationChange:b,getCoreRowModel:S(),getSortedRowModel:y(),getPaginationRowModel:P()});return g?e.jsx(v,{}):d?e.jsx("div",{children:"Error loading protocols"}):e.jsxs("div",{className:o.container,role:"region","aria-label":"Protocols table",children:[e.jsx("div",{className:o.tableHeader,children:e.jsx("input",{type:"text",value:i,onChange:a=>u(a.target.value),placeholder:"Filter by name or chain...",className:o.filterInput,"aria-label":"Filter protocols"})}),e.jsx("div",{className:o.tableWrapper,role:"region","aria-label":"Protocols data",children:e.jsxs("table",{className:o.table,role:"grid",children:[e.jsx("thead",{children:n.getHeaderGroups().map(a=>e.jsx("tr",{children:a.headers.map(t=>e.jsx("th",{onClick:t.column.getToggleSortingHandler(),role:"columnheader","aria-sort":t.column.getIsSorted()?t.column.getIsSorted()==="desc"?"descending":"ascending":"none",tabIndex:0,onKeyDown:l=>{(l.key==="Enter"||l.key===" ")&&t.column.toggleSorting()},children:c(t.column.columnDef.header,t.getContext())},t.id))},a.id))}),e.jsx("tbody",{children:n.getRowModel().rows.map(a=>e.jsx("tr",{role:"row",children:a.getVisibleCells().map(t=>e.jsx("td",{role:"cell",children:c(t.column.columnDef.cell,t.getContext())},t.id))},a.id))})]})}),e.jsxs("div",{className:o.pagination,role:"navigation","aria-label":"Table pagination",children:[e.jsx("button",{onClick:()=>n.previousPage(),disabled:!n.getCanPreviousPage(),className:o.paginationButton,"aria-label":"Previous page",children:"Previous"}),e.jsxs("span",{className:o.pageInfo,role:"status","aria-live":"polite",children:["Page ",n.getState().pagination.pageIndex+1," of"," ",n.getPageCount()]}),e.jsx("button",{onClick:()=>n.nextPage(),disabled:!n.getCanNextPage(),className:o.paginationButton,"aria-label":"Next page",children:"Next"})]})]})};export{D as default};
